<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>as3993 Firmware: appl_commands.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">as3993 Firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_3b1dcce1203a4246271d0209b54aa6ca.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">appl_commands.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="global_8h_source.html">global.h</a>&quot;</code><br/>
</div>
<p><a href="appl__commands_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6d602a64473f4e5821778f8455b6bddb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#a6d602a64473f4e5821778f8455b6bddb">CMD_READER_CONFIG</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a6d602a64473f4e5821778f8455b6bddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabd4ed851071e30df6e08ddcab06ea8c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#aabd4ed851071e30df6e08ddcab06ea8c">CMD_ANTENNA_POWER</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:aabd4ed851071e30df6e08ddcab06ea8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7898caa558c2b7ed52cc2bb0d45f008a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#a7898caa558c2b7ed52cc2bb0d45f008a">CMD_CHANGE_FREQ</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a7898caa558c2b7ed52cc2bb0d45f008a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aede17b55bc98f49fa16c10746240c53a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#aede17b55bc98f49fa16c10746240c53a">CMD_GEN2_SETTINGS</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:aede17b55bc98f49fa16c10746240c53a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24a5f4690c03498db6b57957b979e934"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#a24a5f4690c03498db6b57957b979e934">CMD_CONFIG_TX_RX</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a24a5f4690c03498db6b57957b979e934"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadf03fee9f8a67c1dfa31f7df6f3a42a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#aadf03fee9f8a67c1dfa31f7df6f3a42a">CMD_INVENTORY_GEN2</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:aadf03fee9f8a67c1dfa31f7df6f3a42a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a49a6e4a35baaefa298625a9ca795f7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#a3a49a6e4a35baaefa298625a9ca795f7">CMD_SELECT_TAG</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:a3a49a6e4a35baaefa298625a9ca795f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13e8d476afe2f6018e8b7dbb72c6f48d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#a13e8d476afe2f6018e8b7dbb72c6f48d">CMD_WRITE_TO_TAG</a>&#160;&#160;&#160;7</td></tr>
<tr class="separator:a13e8d476afe2f6018e8b7dbb72c6f48d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc529a7b5aa5cb56275ad689b7c5e6f5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#afc529a7b5aa5cb56275ad689b7c5e6f5">CMD_READ_FROM_TAG</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:afc529a7b5aa5cb56275ad689b7c5e6f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fc9f71bb6af339af44ed0b0385ce47a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#a5fc9f71bb6af339af44ed0b0385ce47a">CMD_LOCK_UNLOCK_TAG</a>&#160;&#160;&#160;9</td></tr>
<tr class="separator:a5fc9f71bb6af339af44ed0b0385ce47a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40d1668859176b751514277a1f8e0b41"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#a40d1668859176b751514277a1f8e0b41">CMD_KILL_TAG</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a40d1668859176b751514277a1f8e0b41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b2ddd0f88475714d740caa5c9bfbc1c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#a3b2ddd0f88475714d740caa5c9bfbc1c">CMD_START_STOP</a>&#160;&#160;&#160;12</td></tr>
<tr class="separator:a3b2ddd0f88475714d740caa5c9bfbc1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19a43cfe833cb2428ad80c97b4c8daf1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#a19a43cfe833cb2428ad80c97b4c8daf1">CMD_TUNER_TABLE</a>&#160;&#160;&#160;13</td></tr>
<tr class="separator:a19a43cfe833cb2428ad80c97b4c8daf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9746ef6eb31517741ee6de67be73a1f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#ae9746ef6eb31517741ee6de67be73a1f">CMD_AUTO_TUNER</a>&#160;&#160;&#160;14</td></tr>
<tr class="separator:ae9746ef6eb31517741ee6de67be73a1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5453168be64b395e7046d2e69ccee5b1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#a5453168be64b395e7046d2e69ccee5b1">CMD_ANTENNA_TUNER</a>&#160;&#160;&#160;15</td></tr>
<tr class="separator:a5453168be64b395e7046d2e69ccee5b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e3dc0b36e2bc6cece104b01a1849969"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#a7e3dc0b36e2bc6cece104b01a1849969">CMD_INVENTORY_6B</a>&#160;&#160;&#160;17</td></tr>
<tr class="separator:a7e3dc0b36e2bc6cece104b01a1849969"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43eb37733e6f31469a6a0c175760f367"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#a43eb37733e6f31469a6a0c175760f367">CMD_READ_FROM_TAG_6B</a>&#160;&#160;&#160;18</td></tr>
<tr class="separator:a43eb37733e6f31469a6a0c175760f367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8809a923cd0a628e2ccb11208d66b12"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#aa8809a923cd0a628e2ccb11208d66b12">CMD_WRITE_TO_TAG_6B</a>&#160;&#160;&#160;19</td></tr>
<tr class="separator:aa8809a923cd0a628e2ccb11208d66b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7a8871d8a9d69d484af893e9f9cebb0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#ab7a8871d8a9d69d484af893e9f9cebb0">CMD_GENERIC_CMD_ID</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:ab7a8871d8a9d69d484af893e9f9cebb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d1b085aff335907a4ef710600c139a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#a3d1b085aff335907a4ef710600c139a4">CMD_RSSI_MEAS_CMD_ID</a>&#160;&#160;&#160;21</td></tr>
<tr class="separator:a3d1b085aff335907a4ef710600c139a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73fb9146977bcd6e07accbe004838234"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#a73fb9146977bcd6e07accbe004838234">CMD_CALL_PA_ID</a>&#160;&#160;&#160;22</td></tr>
<tr class="separator:a73fb9146977bcd6e07accbe004838234"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af52ea0c983e29b6ee1ea95e24ebb9e2f"><td class="memItemLeft" align="right" valign="top">u8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#af52ea0c983e29b6ee1ea95e24ebb9e2f">commands</a> (u8 protocol, u16 rxSize, const u8 *rxData, u16 *txSize, u8 *txData)</td></tr>
<tr class="separator:af52ea0c983e29b6ee1ea95e24ebb9e2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4733229fa43daf734d41b9e53124bf74"><td class="memItemLeft" align="right" valign="top">u8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#a4733229fa43daf734d41b9e53124bf74">sendTagData</a> (u8 *protocol, u16 *txSize, u8 *txData, u16 remainingSize)</td></tr>
<tr class="separator:a4733229fa43daf734d41b9e53124bf74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae55e712bab9f8f5eb5941fcab7cb2dfd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#ae55e712bab9f8f5eb5941fcab7cb2dfd">doCyclicInventory</a> (void)</td></tr>
<tr class="separator:ae55e712bab9f8f5eb5941fcab7cb2dfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0e2510c39c0ffb4f4c7c9446aa261ec"><td class="memItemLeft" align="right" valign="top">u8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#ab0e2510c39c0ffb4f4c7c9446aa261ec">readRegister</a> (u8 addr, u16 *txSize, u8 *txData)</td></tr>
<tr class="separator:ab0e2510c39c0ffb4f4c7c9446aa261ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90fdf2433bbb596c13ff33ffc456eae7"><td class="memItemLeft" align="right" valign="top">u8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#a90fdf2433bbb596c13ff33ffc456eae7">readRegisters</a> (u16 *txSize, u8 *txData)</td></tr>
<tr class="separator:a90fdf2433bbb596c13ff33ffc456eae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65b609cb14868862ad577ffc85b5248e"><td class="memItemLeft" align="right" valign="top">u8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#a65b609cb14868862ad577ffc85b5248e">writeRegister</a> (u8 addr, u8 value, u16 *txSize, u8 *txData)</td></tr>
<tr class="separator:a65b609cb14868862ad577ffc85b5248e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4b7b90160112ff5364abdef36111f4dd"><td class="memItemLeft" align="right" valign="top">struct callFunction&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appl__commands_8h.html#a4b7b90160112ff5364abdef36111f4dd">call_fkt_</a> [CALL_FKT_SIZE]</td></tr>
<tr class="separator:a4b7b90160112ff5364abdef36111f4dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file is the include file for the <a class="el" href="appl__commands_8c.html" title="Functions which handle commands received via USB or UART. ">appl_commands.c</a> file. </p>
<p>This file contains defines for handling appl commands, eg: The defines for the index of command functions in call_ftk_() and expected rx and tx data sizes.</p>
<dl class="section author"><dt>Author</dt><dd>Ulrich Herrmann </dd>
<dd>
Bernhard Breinbauer </dd>
<dd>
Rene Eggerstorfer </dd></dl>

<p>Definition in file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aabd4ed851071e30df6e08ddcab06ea8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_ANTENNA_POWER&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for <a class="el" href="appl__commands_8c.html#aa0c3c7d6c275324c7abb8d2915ce1f1d">callAntennaPower()</a> </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00080">80</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5453168be64b395e7046d2e69ccee5b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_ANTENNA_TUNER&#160;&#160;&#160;15</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for <a class="el" href="appl__commands_8c.html#a35a9905055fe3ca4c2808d090f714bbf">callAntennaTuner()</a> </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00106">106</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae9746ef6eb31517741ee6de67be73a1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_AUTO_TUNER&#160;&#160;&#160;14</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for <a class="el" href="appl__commands_8c.html#a4b4e0cf1453d55bf883e903f325ca613">callAutoTuner()</a> </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00104">104</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<a class="anchor" id="a73fb9146977bcd6e07accbe004838234"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_CALL_PA_ID&#160;&#160;&#160;22</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for <a class="el" href="appl__commands_8c.html#a9b14c763e4d0d2c6045e0bdcb8fa988e">callConfigPA()</a> </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00118">118</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7898caa558c2b7ed52cc2bb0d45f008a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_CHANGE_FREQ&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for <a class="el" href="appl__commands_8c.html#aedfb9442ef8ad6a06ce1113820bd41e6">callChangeFreq()</a> </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00082">82</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<a class="anchor" id="a24a5f4690c03498db6b57957b979e934"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_CONFIG_TX_RX&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for <a class="el" href="appl__commands_8c.html#a28676c97fde8b52b4191754db6a2d9cc">callConfigTxRx()</a> </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00086">86</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<a class="anchor" id="aede17b55bc98f49fa16c10746240c53a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_GEN2_SETTINGS&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for <a class="el" href="appl__commands_8c.html#aecdca38aa1df79e475162b4e96b0a747">callConfigGen2()</a> </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00084">84</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab7a8871d8a9d69d484af893e9f9cebb0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_GENERIC_CMD_ID&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for callGenericCMD() </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00114">114</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7e3dc0b36e2bc6cece104b01a1849969"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_INVENTORY_6B&#160;&#160;&#160;17</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for <a class="el" href="appl__commands_8c.html#aa0084a821c065f158145ea30fbfb1c7a">callInventory6B()</a> </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00108">108</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<a class="anchor" id="aadf03fee9f8a67c1dfa31f7df6f3a42a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_INVENTORY_GEN2&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for <a class="el" href="appl__commands_8c.html#af7538f453a5d43b7ec063517853847ac">callInventoryGen2()</a> </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00088">88</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<a class="anchor" id="a40d1668859176b751514277a1f8e0b41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_KILL_TAG&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for <a class="el" href="appl__commands_8c.html#a6d55f0bf20c6e53f25602cf3f15ee3a8">callKillTag()</a> </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00098">98</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5fc9f71bb6af339af44ed0b0385ce47a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_LOCK_UNLOCK_TAG&#160;&#160;&#160;9</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for <a class="el" href="appl__commands_8c.html#a3390fb37b1bd80a84304a5deb852af7a">callLockUnlockTag()</a> </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00096">96</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<a class="anchor" id="afc529a7b5aa5cb56275ad689b7c5e6f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_READ_FROM_TAG&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for <a class="el" href="appl__commands_8c.html#a1e8235cc0b2cb1df5b04a0847f0a0765">callReadFromTag()</a> </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00094">94</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<a class="anchor" id="a43eb37733e6f31469a6a0c175760f367"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_READ_FROM_TAG_6B&#160;&#160;&#160;18</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for <a class="el" href="appl__commands_8c.html#aa4aa8d85b28f07d51b02630b43262a27">callReadFromTag6B()</a> </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00110">110</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6d602a64473f4e5821778f8455b6bddb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_READER_CONFIG&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for <a class="el" href="appl__commands_8c.html#a1c822618943e03b8d35636953ed48031">callReaderConfig()</a> </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00078">78</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3d1b085aff335907a4ef710600c139a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_RSSI_MEAS_CMD_ID&#160;&#160;&#160;21</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for callRSSIMeasureCMD() </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00116">116</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3a49a6e4a35baaefa298625a9ca795f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_SELECT_TAG&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for <a class="el" href="appl__commands_8c.html#a34b95e06e77ecac99ce20894c4767f99">callSelectTag()</a> </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00090">90</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3b2ddd0f88475714d740caa5c9bfbc1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_START_STOP&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for <a class="el" href="appl__commands_8c.html#a6958165c8330ea8d526edf669d0cb5e3">callStartStop()</a> </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00100">100</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<a class="anchor" id="a19a43cfe833cb2428ad80c97b4c8daf1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_TUNER_TABLE&#160;&#160;&#160;13</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for <a class="el" href="appl__commands_8c.html#a5f0c721b0cbca9df52572cf6592bc9b0">callTunerTable()</a> </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00102">102</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<a class="anchor" id="a13e8d476afe2f6018e8b7dbb72c6f48d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_WRITE_TO_TAG&#160;&#160;&#160;7</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for <a class="el" href="appl__commands_8c.html#a6b5124948787e4620bba229d08ea33ff">callWriteToTag()</a> </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00092">92</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa8809a923cd0a628e2ccb11208d66b12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_WRITE_TO_TAG_6B&#160;&#160;&#160;19</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>appl command ID for <a class="el" href="appl__commands_8c.html#ac8c8c214b2260b9c5c2bce49e4d4ed50">callWriteToTag6B()</a> </p>

<p>Definition at line <a class="el" href="appl__commands_8h_source.html#l00112">112</a> of file <a class="el" href="appl__commands_8h_source.html">appl_commands.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af52ea0c983e29b6ee1ea95e24ebb9e2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 commands </td>
          <td>(</td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>rxSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const u8 *&#160;</td>
          <td class="paramname"><em>rxData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16 *&#160;</td>
          <td class="paramname"><em>txSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>txData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Process various generic commands. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">protocol</td><td>: forward from <a class="el" href="main_8c.html#a643fb80b755c5bad7a12aeea04ad0861" title="Command dispatcher for application-specific commands. ">applProcessCmd()</a> </td></tr>
    <tr><td class="paramname">rxData</td><td>: forward from <a class="el" href="main_8c.html#a643fb80b755c5bad7a12aeea04ad0861" title="Command dispatcher for application-specific commands. ">applProcessCmd()</a> </td></tr>
    <tr><td class="paramname">rxSize</td><td>: forward from <a class="el" href="main_8c.html#a643fb80b755c5bad7a12aeea04ad0861" title="Command dispatcher for application-specific commands. ">applProcessCmd()</a> </td></tr>
    <tr><td class="paramname">txData</td><td>: forward from <a class="el" href="main_8c.html#a643fb80b755c5bad7a12aeea04ad0861" title="Command dispatcher for application-specific commands. ">applProcessCmd()</a> </td></tr>
    <tr><td class="paramname">txSize</td><td>: forward from <a class="el" href="main_8c.html#a643fb80b755c5bad7a12aeea04ad0861" title="Command dispatcher for application-specific commands. ">applProcessCmd()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code for processed command</dd></dl>
<h1><a class="anchor" id="streamprotocol"></a>
Protocol description</h1>
<p>The following description gives an overview of the ams stream protocol and how the data of stream packets is forwarded to the <a class="el" href="appl__commands_8c.html#af52ea0c983e29b6ee1ea95e24ebb9e2f">commands()</a> function. The protocol can be executed over USB or UART. Only the header bytes between USB and UART are different.</p>
<p>For a detailed description of the ams stream protocol have a look in <a class="el" href="ams__stream_8h.html" title="Constants shared between GUI and firmware concerning the ams streaming communication. ">ams_stream.h</a></p>
<h2><a class="anchor" id="streamprotocolUSB"></a>
Protocol for USB:</h2>
<p>A simple USB stream packet (not splitted, only 1 protocol in packet) is shown in the following table, which maps the transmitted data to the function parameters of <a class="el" href="appl__commands_8c.html#af52ea0c983e29b6ee1ea95e24ebb9e2f">commands()</a>. </p>
<table class="doxtable">
<tr>
<th>Byte</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4..5</th><th>6..7</th><th>8..8+txprot-1 </th></tr>
<tr>
<th>Content</th><td>TID</td><td>payload</td><td>reserved</td><td>protocol</td><td>txprot</td><td>rxprot</td><td>data </td></tr>
<tr>
<th>Parameter</th><td></td><td></td><td></td><td>protocol</td><td>rxSize</td><td>txSize</td><td>rxData[0..rxSize-1] </td></tr>
</table>
<p>where </p>
<ul>
<li>
<em>TID</em> : transaction ID. </li>
<li>
<em>payload:</em> amount of data in report. </li>
<li>
<em>protocol:</em> defines which action should be triggered. If <a class="el" href="appl__commands_8c.html#af52ea0c983e29b6ee1ea95e24ebb9e2f">commands()</a> is is called it refers to a firmware application command (no generic stream command). </li>
<li>
<em>txprot:</em> amount of data which has been received and should be forwarded to command function. </li>
<li>
<em>rxprot:</em> This variable contains the expected size of data this command will return and will be set to the size of the actual data to be tx-ed back to host. </li>
<li>
<em>data:</em> input data for command </li>
</ul>
<p>The response will look like this: </p>
<table class="doxtable">
<tr>
<th>Byte</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6..7</th><th>8..8+txprot-1 </th></tr>
<tr>
<th>Content</th><td>TID</td><td>payload</td><td>stream status</td><td>protocol</td><td>reserved</td><td>prot status</td><td>txprot</td><td>data </td></tr>
<tr>
<th>Parameter</th><td></td><td></td><td></td><td>protocol</td><td></td><td>status</td><td>txSize</td><td>txData[0..txSize-1] </td></tr>
</table>
<p>where </p>
<ul>
<li>
<em>TID</em> : transaction ID. </li>
<li>
<em>payload:</em> amount of data in report. </li>
<li>
<em>stream</em> status : a non-zero value indicates that a previous command could not be processed </li>
<li>
<em>protocol</em> : defines to which action the transmitted data belongs </li>
<li>
<em>prot</em> status : a non-zero value indicates error condition of command (return value of function <a class="el" href="appl__commands_8c.html#af52ea0c983e29b6ee1ea95e24ebb9e2f">commands()</a>) </li>
<li>
<em>txprot:</em> size of data in response </li>
<li>
<em>data:</em> response data for command </li>
</ul>
<h3><a class="anchor" id="streamexample"></a>
Example for the antenna power command, handled by callAntennaPower():</h3>
<p>Request from host (Reader Suite): </p>
<table class="doxtable">
<tr>
<th>Byte</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4..5</th><th>6..7</th><th>8 </th></tr>
<tr>
<th>Content</th><td>TID</td><td>payload</td><td>reserved</td><td>protocol</td><td>txprot</td><td>rxprot</td><td>data </td></tr>
<tr>
<th>Value</th><td>0x0F</td><td>0x07</td><td>0x00</td><td>0x01</td><td>0x0002</td><td>0x0001</td><td>0xFF </td></tr>
</table>
<p>where: </p>
<ul>
<li>
0x01: command ID for <a class="el" href="appl__commands_8c.html#aa0c3c7d6c275324c7abb8d2915ce1f1d">callAntennaPower()</a>, is also used as index in <a class="el" href="appl__commands__table_8c.html#a4b7b90160112ff5364abdef36111f4dd">call_fkt_()</a> table. </li>
<li>
0xFF: parameter for <a class="el" href="appl__commands_8c.html#aa0c3c7d6c275324c7abb8d2915ce1f1d">callAntennaPower()</a>. 0xFF means turn antenna on. </li>
</ul>
<p>The reader answer with this report: </p>
<table class="doxtable">
<tr>
<th>Byte</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6..7</th><th>8 </th></tr>
<tr>
<th>Content</th><td>TID</td><td>payload</td><td>stream status</td><td>protocol</td><td>reserved</td><td>prot status</td><td>txprot</td><td>data </td></tr>
<tr>
<th>Value</th><td>0xF0</td><td>0x06</td><td>0x00</td><td>0x01</td><td>0x00</td><td>0x00</td><td>0x0001</td><td>0x00 </td></tr>
</table>
<ul>
<li>
0x00 (txData[0]): the data this command produced. </li>
<li>
0x00 (status): <a class="el" href="errno_8h.html#aff0d3fb76f11f6e8ea4002d826bbd23c">ERR_NONE</a> </li>
</ul>
<h2><a class="anchor" id="streamprotocolUART"></a>
Protocol for UART:</h2>
<p>A simple UART stream packet is shown in the following table, which maps the transmitted data to the function parameters of <a class="el" href="appl__commands_8c.html#af52ea0c983e29b6ee1ea95e24ebb9e2f">commands()</a>. </p>
<table class="doxtable">
<tr>
<th>Byte</th><th>0</th><th>1</th><th>2..3</th><th>4</th><th>5..6</th><th>7..8</th><th>9..9+txprot-1 </th></tr>
<tr>
<th>Content</th><td>TID</td><td>Status</td><td>payload</td><td>protocol</td><td>txprot</td><td>rxprot</td><td>data </td></tr>
<tr>
<th>Parameter</th><td></td><td></td><td></td><td>protocol</td><td>rxSize</td><td>txSize</td><td>rxData[0..rxSize-1] </td></tr>
</table>
<p>where </p>
<ul>
<li>
<em>TID</em> : transaction ID. </li>
<li>
<em>Status</em> : Uart Status </li>
<li>
<em>payload:</em> amount of data in report. </li>
<li>
<em>protocol:</em> defines which action should be triggered. If <a class="el" href="appl__commands_8c.html#af52ea0c983e29b6ee1ea95e24ebb9e2f">commands()</a> is is called it refers to a firmware application command (no generic stream command). </li>
<li>
<em>txprot:</em> amount of data which has been received and should be forwarded to command function. </li>
<li>
<em>rxprot:</em> This variable contains the expected size of data this command will return and will be set to the size of the actual data to be tx-ed back to host. </li>
<li>
<em>data:</em> input data for command </li>
</ul>
<p>The response will look like this: </p>
<table class="doxtable">
<tr>
<th>Byte</th><th>0</th><th>1</th><th>2..3</th><th>4</th><th>5</th><th>6</th><th>7..8</th><th>9..9+txprot-1 </th></tr>
<tr>
<th>Content</th><td>TID</td><td>Status</td><td>payload</td><td>protocol</td><td>reserved</td><td>prot status</td><td>txprot</td><td>data </td></tr>
<tr>
<th>Parameter</th><td></td><td></td><td></td><td>protocol</td><td></td><td>status</td><td>txSize</td><td>txData[0..txSize-1] </td></tr>
</table>
<p>where </p>
<ul>
<li>
<em>TID</em> : transaction ID. </li>
<li>
<em>Status</em> : Uart Status </li>
<li>
<em>payload:</em> amount of data in report. </li>
<li>
<em>protocol</em> : defines to which action the transmitted data belongs </li>
<li>
<em>prot</em> status : a non-zero value indicates error condition of command (return value of function <a class="el" href="appl__commands_8c.html#af52ea0c983e29b6ee1ea95e24ebb9e2f">commands()</a>) </li>
<li>
<em>txprot:</em> size of data in response </li>
<li>
<em>data:</em> response data for command </li>
</ul>
<p><b>UART Settings:</b> </p>
<ul>
<li>
BAUD RATE: 115200 </li>
<li>
DATA BITS: 8 </li>
<li>
PARITY: NONE </li>
<li>
STOP BITS: 1 </li>
<li>
FLOW CONTROL: NONE </li>
</ul>
<h3><a class="anchor" id="streamexampleConfigTXRX"></a>
Example for the config TX RX command, handled by callConfigTxRx():</h3>
<p>Request from host (Reader Suite): </p>
<table class="doxtable">
<tr>
<th>Byte</th><th>0 </th><th>1</th><th>2..3</th><th>4</th><th>5..6</th><th>7..8</th><th>9..12 </th></tr>
<tr>
<th>Content</th><td>TID </td><td>Status</td><td>payload</td><td>protocol</td><td>txprot </td><td>rxprot </td><td>data </td></tr>
<tr>
<th>Parameter</th><td>0x20</td><td>0x00 </td><td>0x00 09</td><td>0x04 </td><td>0x00 04</td><td>0x00 04</td><td>0x00 00 01 01 </td></tr>
</table>
<p>where: </p>
<ul>
<li>
0x04: command ID for <a class="el" href="appl__commands_8c.html#a28676c97fde8b52b4191754db6a2d9cc">callConfigTxRx()</a>, is also used as index in <a class="el" href="appl__commands__table_8c.html#a4b7b90160112ff5364abdef36111f4dd">call_fkt_()</a> table. </li>
<li>
0x00 00 01 01 : parameter for <a class="el" href="appl__commands_8c.html#a28676c97fde8b52b4191754db6a2d9cc">callConfigTxRx()</a> (set_sensitivity = false and sensitivity = 0; set_antenna = true and antenna id = 1) </li>
</ul>
<p>The reader answer with this report: </p>
<table class="doxtable">
<tr>
<th>Byte</th><th>0</th><th>1</th><th>2..3</th><th>4</th><th>5</th><th>6</th><th>7..8 </th><th>9..12 </th></tr>
<tr>
<th>Content</th><td>TID </td><td>Status</td><td>payload</td><td>protocol</td><td>reserved</td><td>prot status</td><td>txprot </td><td>data </td></tr>
<tr>
<th>Parameter</th><td>0x01</td><td>0x00 </td><td>0x00 09</td><td>0x04 </td><td>0x00 </td><td>0x00 </td><td>0x00 04</td><td>0x00 0B 00 01 </td></tr>
</table>
<ul>
<li>
0x00 0B 00 01: reserved bytes are 0x00, sensitivity is 0x0B and antenna id is 0x01 </li>
</ul>
<h3><a class="anchor" id="streamexampleInventoryGen2"></a>
Example for the Inventory Gen2 command, handled by callInventoryGen2():</h3>
<p>Request from host (Reader Suite): </p>
<table class="doxtable">
<tr>
<th>Byte</th><th>0 </th><th>1</th><th>2..3</th><th>4</th><th>5..6</th><th>7..8</th><th>9..12 </th></tr>
<tr>
<th>Content</th><td>TID </td><td>Status</td><td>payload</td><td>protocol</td><td>txprot </td><td>rxprot </td><td>data </td></tr>
<tr>
<th>Parameter</th><td>0x07</td><td>0x00 </td><td>0x00 08</td><td>0x85 </td><td>0x00 03</td><td>0x00 00</td><td>0x00 01 06 </td></tr>
</table>
<p>where: </p>
<ul>
<li>
0x85: command ID for <a class="el" href="appl__commands_8c.html#af7538f453a5d43b7ec063517853847ac">callInventoryGen2()</a>, is also used as index in <a class="el" href="appl__commands__table_8c.html#a4b7b90160112ff5364abdef36111f4dd">call_fkt_()</a> table. </li>
<li>
0x00 01 06 : parameter for <a class="el" href="appl__commands_8c.html#af7538f453a5d43b7ec063517853847ac">callInventoryGen2()</a> </li>
</ul>
<p>The reader answer with this report: </p>
<table class="doxtable">
<tr>
<th>Byte</th><th>0</th><th>1</th><th>2..3</th><th>4</th><th>5</th><th>6</th><th>7..8 </th><th>9..12 </th></tr>
<tr>
<th>Content</th><td>TID </td><td>Status</td><td>payload</td><td>protocol</td><td>reserved</td><td>prot status</td><td>txprot </td><td>data </td></tr>
<tr>
<th>Parameter</th><td>0x76</td><td>0x00 </td><td>0x00 14</td><td>0x05 </td><td>0x00 </td><td>0x00 </td><td>0x00 0F</td><td>00 00 01 8f ff ac 3c 0d 06 10 00 ba ba 77 77 </td></tr>
</table>
<ul>
<li>
0xba ba 77 77: epc of tag </li>
</ul>
<h3><a class="anchor" id="streamexampleReadFromTag"></a>
Example for the Read from Tag command, handled by callReadFromTag():</h3>
<p>Request from host (Reader Suite): </p>
<table class="doxtable">
<tr>
<th>Byte</th><th>0 </th><th>1</th><th>2..3</th><th>4</th><th>5..6</th><th>7..8</th><th>9..17 </th></tr>
<tr>
<th>Content</th><td>TID </td><td>Status</td><td>payload</td><td>protocol</td><td>txprot </td><td>rxprot </td><td>data </td></tr>
<tr>
<th>Parameter</th><td>0x3E</td><td>0x00 </td><td>0x00 0e</td><td>0x08 </td><td>0x00 09</td><td>0x00 09</td><td>0x00 00 00 00 00 00 00 00 00 </td></tr>
</table>
<p>where: </p>
<ul>
<li>
0x08: command ID for <a class="el" href="appl__commands_8c.html#a1e8235cc0b2cb1df5b04a0847f0a0765">callReadFromTag()</a>, is also used as index in <a class="el" href="appl__commands__table_8c.html#a4b7b90160112ff5364abdef36111f4dd">call_fkt_()</a> table. </li>
<li>
0x00 00 00 00 00 00 00 00 00 : parameter for <a class="el" href="appl__commands_8c.html#a1e8235cc0b2cb1df5b04a0847f0a0765">callReadFromTag()</a> </li>
</ul>
<p>The reader answer with this report: </p>
<table class="doxtable">
<tr>
<th>Byte</th><th>0</th><th>1</th><th>2..3</th><th>4</th><th>5</th><th>6</th><th>7..8 </th><th>9..16 </th></tr>
<tr>
<th>Content</th><td>TID </td><td>Status</td><td>payload</td><td>protocol</td><td>reserved</td><td>prot status</td><td>txprot </td><td>data </td></tr>
<tr>
<th>Parameter</th><td>0xE7</td><td>0x00 </td><td>0x00 0D</td><td>0x08 </td><td>0x00 </td><td>0x00 </td><td>0x00 08</td><td>00 00 00 00 55 55 55 55 </td></tr>
</table>
<ul>
<li>
00 00 00 00 55 55 55 55: reserved memory of the tag </li>
</ul>
<h1><a class="anchor" id="applcmds"></a>
Implemented commands</h1>
<p>Functions which handle the commands from the host are located in <a class="el" href="appl__commands_8c.html" title="Functions which handle commands received via USB or UART. ">appl_commands.c</a> </p>
<ul>
<li>
<a class="el" href="appl__commands_8c.html#aa0c3c7d6c275324c7abb8d2915ce1f1d">callAntennaPower()</a> </li>
<li>
<a class="el" href="appl__commands_8c.html#a35a9905055fe3ca4c2808d090f714bbf">callAntennaTuner()</a> </li>
<li>
<a class="el" href="appl__commands_8c.html#a4b4e0cf1453d55bf883e903f325ca613">callAutoTuner()</a> </li>
<li>
<a class="el" href="appl__commands_8c.html#aedfb9442ef8ad6a06ce1113820bd41e6">callChangeFreq()</a> </li>
<li>
<a class="el" href="appl__commands_8c.html#aecdca38aa1df79e475162b4e96b0a747">callConfigGen2()</a> </li>
<li>
<a class="el" href="appl__commands_8c.html#a28676c97fde8b52b4191754db6a2d9cc">callConfigTxRx()</a> </li>
<li>
<a class="el" href="appl__commands_8c.html#af7538f453a5d43b7ec063517853847ac">callInventoryGen2()</a> </li>
<li>
<a class="el" href="appl__commands_8c.html#aa0084a821c065f158145ea30fbfb1c7a">callInventory6B()</a> </li>
<li>
<a class="el" href="appl__commands_8c.html#aa4aa8d85b28f07d51b02630b43262a27">callReadFromTag6B()</a> </li>
<li>
<a class="el" href="appl__commands_8c.html#a6d55f0bf20c6e53f25602cf3f15ee3a8">callKillTag()</a> </li>
<li>
<a class="el" href="appl__commands_8c.html#a3390fb37b1bd80a84304a5deb852af7a">callLockUnlockTag()</a> </li>
<li>
<a class="el" href="appl__commands_8c.html#a1e8235cc0b2cb1df5b04a0847f0a0765">callReadFromTag()</a> </li>
<li>
<a class="el" href="appl__commands_8c.html#a1c822618943e03b8d35636953ed48031">callReaderConfig()</a> </li>
<li>
<a class="el" href="appl__commands_8c.html#a34b95e06e77ecac99ce20894c4767f99">callSelectTag()</a> </li>
<li>
<a class="el" href="appl__commands_8c.html#a6958165c8330ea8d526edf669d0cb5e3">callStartStop()</a> </li>
<li>
<a class="el" href="appl__commands_8c.html#a5f0c721b0cbca9df52572cf6592bc9b0">callTunerTable()</a> </li>
<li>
<a class="el" href="appl__commands_8c.html#a6b5124948787e4620bba229d08ea33ff">callWriteToTag()</a> </li>
<li>
<a class="el" href="appl__commands_8c.html#a84f0c66d6ac5157a6a525c989e5c513f">callWrongCommand()</a> </li>
</ul>
<p>The documentation of the various appl command functions will only discuss the data received/sent back to host and will not include the header information for every transmitted packet.</p>
<p>For more details on the ams stream protocol have a look into <a class="el" href="ams__stream_8h.html" title="Constants shared between GUI and firmware concerning the ams streaming communication. ">ams_stream.h</a> </p>

<p>Definition at line <a class="el" href="appl__commands_8c_source.html#l03216">3216</a> of file <a class="el" href="appl__commands_8c_source.html">appl_commands.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae55e712bab9f8f5eb5941fcab7cb2dfd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int doCyclicInventory </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is called periodically from <a class="el" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main()</a> loop. If a cyclic inventory has been started <a class="el" href="appl__commands_8c.html#a3648c3c76916be48244c65ab032ab7b2">callInventoryGen2Internal()</a> is called. </p>

<p>Definition at line <a class="el" href="appl__commands_8c_source.html#l02930">2930</a> of file <a class="el" href="appl__commands_8c_source.html">appl_commands.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab0e2510c39c0ffb4f4c7c9446aa261ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 readRegister </td>
          <td>(</td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16 *&#160;</td>
          <td class="paramname"><em>txSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>txData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>reads one AS3993 register at address and puts the value into the reply to the host.<br/>
see <a class="el" href="main_8c.html#a0be25d0275b093b1450d304950ccf18d">cmdReadReg()</a> for reply structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>register address </td></tr>
    <tr><td class="paramname">txSize</td><td>expected tx size </td></tr>
    <tr><td class="paramname">txData</td><td>buffer for reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code </dd></dl>

<p>Definition at line <a class="el" href="appl__commands_8c_source.html#l01102">1102</a> of file <a class="el" href="appl__commands_8c_source.html">appl_commands.c</a>.</p>

</div>
</div>
<a class="anchor" id="a90fdf2433bbb596c13ff33ffc456eae7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 readRegisters </td>
          <td>(</td>
          <td class="paramtype">u16 *&#160;</td>
          <td class="paramname"><em>txSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>txData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>reads all AS3993 registers and puts the values into the reply to the host.<br/>
see <a class="el" href="main_8c.html#a0be25d0275b093b1450d304950ccf18d">cmdReadReg()</a> for reply structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">txSize</td><td>expected tx size </td></tr>
    <tr><td class="paramname">txData</td><td>buffer for reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code </dd></dl>

<p>Definition at line <a class="el" href="appl__commands_8c_source.html#l01372">1372</a> of file <a class="el" href="appl__commands_8c_source.html">appl_commands.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4733229fa43daf734d41b9e53124bf74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 sendTagData </td>
          <td>(</td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16 *&#160;</td>
          <td class="paramname"><em>txSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>txData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>remainingSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function sends the tag data received in the last inventory round to the host. The payload description is here: <a class="el" href="appl__commands_8c.html#af7538f453a5d43b7ec063517853847ac">callInventoryGen2()</a><br/>
</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">protocol</td><td>Protocol byte for the stream packet </td></tr>
    <tr><td class="paramname">txData</td><td>Buffer to use for tx data </td></tr>
    <tr><td class="paramname">txSize</td><td>Number of bytes which have been copied into the buffer. </td></tr>
    <tr><td class="paramname">remainingSize</td><td>Number of available bytes in the tx buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of the command. <br/>
<br/>
The fixed size part of a tag data reply payload (as described in <a class="el" href="appl__commands_8c.html#af7538f453a5d43b7ec063517853847ac">callInventoryGen2()</a>) consists of: <table class="doxtable">
<tr>
<th>number of bytes </th><th>content  </th></tr>
<tr>
<td>1 </td><td>cyclic </td></tr>
<tr>
<td>1 </td><td>tags_left </td></tr>
<tr>
<td>1 </td><td>tags_in_reply </td></tr>
<tr>
<td>1 </td><td>AGC and status (reg 0x2A) </td></tr>
<tr>
<td>1 </td><td>RSSI_value (reg 0x2B) </td></tr>
<tr>
<td>3 </td><td>base_freq </td></tr>
<tr>
<td>1 </td><td>epclen+pclen </td></tr>
<tr>
<td>2 </td><td>pc </td></tr>
<tr>
<td>sum : 10</td><td></td></tr>
</table>
followed by an epc with variable length.<br/>
If the parameter <a class="el" href="appl__commands_8c.html#a0a5b56fee931458a27eae7ea0e21d782">readTIDinInventoryRound</a> is set to 1, one byte with the tidlen and the tid with variable length will follow.<br/>
</dd></dl>

<p>Definition at line <a class="el" href="appl__commands_8c_source.html#l03282">3282</a> of file <a class="el" href="appl__commands_8c_source.html">appl_commands.c</a>.</p>

</div>
</div>
<a class="anchor" id="a65b609cb14868862ad577ffc85b5248e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 writeRegister </td>
          <td>(</td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16 *&#160;</td>
          <td class="paramname"><em>txSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>txData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>writes to AS3993 register at address addr the value and prepares tx answer to host.<br/>
see <a class="el" href="main_8c.html#a0825be6c08f30d8cd68786f335ce98ef">cmdWriteReg()</a> for reply structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>register address </td></tr>
    <tr><td class="paramname">value</td><td>the value to write </td></tr>
    <tr><td class="paramname">txSize</td><td>expected tx size </td></tr>
    <tr><td class="paramname">txData</td><td>buffer for reply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code </dd></dl>

<p>Definition at line <a class="el" href="appl__commands_8c_source.html#l01074">1074</a> of file <a class="el" href="appl__commands_8c_source.html">appl_commands.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a4b7b90160112ff5364abdef36111f4dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct callFunction call_fkt_[CALL_FKT_SIZE]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Table of function pointers. The offset in the table matches the command identifier. When a command is received the corresponding function will be called via this table. </p>

<p>Definition at line <a class="el" href="appl__commands__table_8c_source.html#l00067">67</a> of file <a class="el" href="appl__commands__table_8c_source.html">appl_commands_table.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 7 2015 14:12:38 for as3993 Firmware by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
